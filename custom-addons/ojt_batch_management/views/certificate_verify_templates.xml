<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Certificate Verification Template -->
        <template id="certificate_verify" name="Certificate Verification">
            <t t-call="website.layout">
                <div id="wrap" class="oe_structure oe_empty">
                    <section class="s_title pt32 pb32 bg-200">
                        <div class="container">
                            <h1 class="text-center">Certificate Verification</h1>
                        </div>
                    </section>

                    <section class="s_text_block pt32 pb32">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-8 offset-lg-2">
                                    <form action="/ojt/cert/verify" method="get" class="mb-4">
                                        <div class="input-group">
                                            <input type="text" name="serial" class="form-control"
                                                   placeholder="Enter Certificate Serial Number"
                                                   t-att-value="serial or ''"/>
                                            <div class="input-group-append">
                                                <button class="btn btn-primary" type="submit">Verify</button>
                                            </div>
                                        </div>
                                    </form>

                                    <t t-if="certificate">
                                        <div class="card">
                                            <div class="card-header bg-success text-white">
                                                <h5 class="mb-0">Certificate Verified âœ“</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <h6>Certificate Details</h6>
                                                        <p><strong>Serial:</strong> <t t-esc="certificate.serial"/></p>
                                                        <p><strong>Participant:</strong> <t t-esc="certificate.participant_id.name"/></p>
                                                        <p><strong>Batch:</strong> <t t-esc="certificate.batch_id.name"/></p>
                                                        <p><strong>Issue Date:</strong> <t t-esc="certificate.issued_on"/></p>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <h6>Performance</h6>
                                                        <p><strong>Attendance Rate:</strong> <t t-esc="certificate.attendance_rate"/>%</p>
                                                        <p><strong>Final Score:</strong> <t t-esc="certificate.final_score"/>%</p>
                                                        <p><strong>Grade:</strong> <t t-esc="certificate.grade"/></p>
                                                    </div>
                                                </div>
                                                <t t-if="certificate.pdf_file">
                                                    <div class="mt-3">
                                                        <a t-attf-href="/ojt/cert/download/{{certificate.id}}" class="btn btn-primary">
                                                            <i class="fa fa-download"></i> Download Certificate
                                                        </a>
                                                    </div>
                                                </t>
                                            </div>
                                        </div>
                                    </t>

                                    <t t-if="error_message">
                                        <div class="alert alert-danger">
                                            <i class="fa fa-exclamation-triangle"></i>
                                            <t t-esc="error_message"/>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </t>
        </template>

        <!-- Attendance Check-in Template -->
        <template id="attendance_checkin" name="Attendance Check-in">
            <t t-call="website.layout">
                <div id="wrap" class="oe_structure oe_empty">
                    <section class="s_title pt32 pb32 bg-200">
                        <div class="container">
                            <h1 class="text-center">Attendance Check-in</h1>
                        </div>
                    </section>

                    <section class="s_text_block pt32 pb32">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-6 offset-lg-3">
                                    <t t-if="message">
                                        <div t-attf-class="alert alert-{{message_type}}">
                                            <t t-esc="message"/>
                                        </div>
                                    </t>

                                    <t t-if="event_link and participant">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">Check-in Details</h5>
                                            </div>
                                            <div class="card-body">
                                                <p><strong>Event:</strong> <t t-esc="event_link.name"/></p>
                                                <p><strong>Date:</strong> <t t-esc="event_link.event_date"/></p>
                                                <p><strong>Participant:</strong> <t t-esc="participant.name"/></p>
                                                <p><strong>Batch:</strong> <t t-esc="participant.batch_id.name"/></p>
                                            </div>
                                        </div>
                                    </t>

                                    <div class="text-center mt-4">
                                        <p>Scan QR code to check-in</p>
                                        <div id="qr-reader" style="width: 300px; height: 300px; margin: 0 auto;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </t>
        </template>
    </data>
</odoo>
